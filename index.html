<html>
	<head>
		<title>Webgl Test</title>
		<style>
			body { margin: 0; }
			canvas { width: 100%; height: 100% }
		</style>
	</head>
	<body>
		<script src="http://threejs.org/build/three.min.js"></script>
        <script src="js/orbitcontrols.js"></script>
        <script src="js/engine.js"></script>
		<script>
            // Setup
			engine.init();
			var box = engine.addBox(0x00ff00);
			var axis = engine.addAxis();
            var boxId = engine.getObjectId(box);
            engine.setCentralObject(boxId);
            var person = engine.addPerson();
            person.pose();
			engine.render();

            // Add key events
            engine.addKeyEvent(engine.keys.LEFT_KEY,function(){
                if ((box.position.x -engine.settings.MOVE_SIZE) > -engine.settings.HORIZONTAL_LIMIT)
                    box.position.x -= engine.settings.MOVE_SIZE;

                box.rotate.x = 0;
                box.rotate.y = 0;
            });
            engine.addKeyEvent(engine.keys.RIGHT_KEY,function(){
                if ((box.position.x +engine.settings.MOVE_SIZE) < engine.settings.HORIZONTAL_LIMIT)
                    box.position.x += engine.settings.MOVE_SIZE;
            });
            engine.addKeyEvent(engine.keys.UP_KEY,function(){
                if ((box.position.y + engine.settings.MOVE_SIZE) < engine.settings.VERTICAL_LIMIT)
                    box.position.y += engine.settings.MOVE_SIZE;
            });
            engine.addKeyEvent(engine.keys.DOWN_KEY,function(){
                if ((box.position.y-engine.settings.MOVE_SIZE) >= 0)
                    box.position.y -= engine.settings.MOVE_SIZE;
            });
            engine.initializeKeyEvents();

		</script>
	</body>
</html>
